language: python
services:
  - docker
python:
  - "3.6"
  - "3.6-dev"
before_install:
  - docker run --rm -v ${PWD}:/local swaggerapi/swagger-codegen-cli:latest generate -i "https://esi.evetech.net/_latest/swagger.json" -l python -o /local/swagger-python-client
  - sudo chown -R $USER swagger-python-client
  - python3 swagger-python-client/setup.py install
install:
  - pip install -r requirements.txt
script:
  - pytest